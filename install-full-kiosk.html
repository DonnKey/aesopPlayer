---
layout: page
meta_title: "Aesop Player: setting up full kiosk mode"
title: "Make a Dedicated Player - Full Kiosk Mode"
heading: "Making a Dedicated Player"
header-img: img/m-mode.jpg
description: "Full Kiosk Mode; adb install"
extra_css:
 - lightview.min.css
extra_js:
 - lightview.js
 - video.js
---
(If you're looking for the "Full Kiosk Mode, QR Install" page, see <a href="install-full-kiosk-qr.html">here</a>.)
</p>
<p>
This section is first about making a fully-informed decision about which of the various Kiosk Modes you want to use,
and then implementing that decision if you decide on "Full Kiosk" mode.
</p>
<p>
If you've tried the other Kiosk Modes (as described
<a href="install-dedicated.html">here</a>) 
and they don't work for you, then you can proceed as described in this section.
If you haven't tried the other modes, they are worth considering because setting up Full Kiosk
mode is considerably more work than the other modes.
In theory Full Kiosk is more effective than the other modes, but as a practical matter you may never
encounter the difference.
</p>
<p>
If you expect to install the Aesop Player on multiple devices, much of the effort of setting up
Full Kiosk is one-time setup or learning, so Full Kiosk may be more attractive.
<h2 id="kiosk-mode" class="anchor-target">Kiosk Mode Selection</h2>
<p>
Below is a description of the various choices of Kiosk Mode, with trade-off information.
You can use that to decide if Full Kiosk is worth the effort.
If you choose not to use Full Kiosk, and change your mind later, 
it may require starting over, but it's not an irrevocable decision.
</p>
<p>
As noted in the main section on dedicated players, the goal of a dedicated player is
to prevent accidentally pushing the system buttons.
To prevent that, we provide three choices, 
each with advantages and disadvantages that fit different circumstances.
</p>
All three Kiosk Modes protect against accidental button presses, work nicely with 
<a href="install-dedicated.html#maintenance-mode">Maintenance Mode</a>, and if the
device shuts down while displaying or playing a book (for example if the battery dies), it will return
to Aesop when restarted.
</p>
<ol class="toc">
    <li>
	Simple Kiosk mode:
	<dl>
	Advantages:
	<dd>
	<ul>
	    <li>Works on older Androids (4.4/Kit Kat/API-19 up), 
		<span class="more_info"> 
		<span class="popup">
		We have not recently tested with the Kindle Fire. 
		It has worked in the past, but be sure to test it thoroughly before committing to it.
		</span>
		including possibly the Kindle Fire.
		</span>
	    <li>Doesn't require any setup outside the app. 
		(Does require granting permissions when selecting this mode for the first time. It will guide you.)
	    <li>Doesn't interfere with the phone's normal use when Aesop is not running.
	</ul>
	</dd>
	Disadvantages:
	<dd>
	<ul>
	    <li>Can be ugly and slow at times.
	    <li> 
		<span class="more_info"> 
		<span class="popup">
		    The folks at Google <em>mostly</em> rightly see disabling the system buttons,
		    as discussed above, as a potential system security problem.
		    <br>
		    On Android Q, further changes make Simple Kiosk barely possible, and even less attractive.
		    You will need to restart Aesop Player at the point it asks to enable the Home Application,
		    and it takes several seconds to return to Aesop's display after hitting the Home button (circle).
		    (The audio will continue uninterrupted.)
		</span>
		Works poorly
		</span>
		on Android 10 (Q) or above. (Use Application Pinning (or Full Kiosk) instead.)
	    <li>Not guaranteed to be always effective.  (99.9%, but there are probably ways around it.)
	</ul>
	</dd>
	</dl>
	<p>
	    Simple mode is the only choice for 
		<span class="more_info">
		    <span class="popup">
		    There isn't a kiosk-like solution for really early versions of Android, 
		    although Aesop will run on API 17 and up.
		    </span>
		    older devices. 
		</span>
	    On newer devices where Full Kiosk mode or Application Pinning is available, that is strongly preferred.
	    Simple Kiosk can be useful when the device cannot be dedicated to a single use full-time,
	    and for some reason Application Pinning 
		<span class="more_info">
		    <span class="popup">
		    We currently know of no reason that Application Pinning would not work well. Please contact us
		    if you run into any problems.
		    </span>
		is a problem.
		</span>
	</p>
    </li>
    <li>
	Application Pinning:
	<br>
	There are two ways of accessing Android's "Application Pinning" feature, externally to the Aesop Player,
	and internally. 
	This discusses the internal mode, since it is far simpler to use with Aesop than the external one.
	(We don't even test the external mode with Aesop... it's not really that convenient.
	Look it up on the Internet to see how it's used externally to an application.)
	<dl>
	Advantages:
	<dd>
	<ul>
	    <li>Works well and smoothly.
	    <li>Highly reliable.
	    <li>Doesn't interfere with the phone's normal use when not running.
	    <li>Doesn't require any setup outside the app. 
		(Does require granting permissions when selecting this mode for the first time. It will guide you.)
	</ul>
	</dd>
	Disadvantages:
	<dd>
	<ul>
	    <li>Requires Android 5.0 or above.
	    <li>Isn't designed to be as resistant to intentional misuse as Full Kiosk mode.
	</ul>
	</dd>
	</dl>
	<p>
	    Application pinning is preferred if you have an appropriate device unless actual use shows 
	    you need Full Kiosk mode for its stricter controls.
	</p>
    </li>
    <li id="BDA" class="anchor-target">Full Kiosk mode:</li>
	<dl>
	Advantages:
	<dd>
	<ul>
	    <li>Works well and smoothly.
	    <li>Highly reliable once app and device is fully configured.
	    <li>Requires very little care-giver expertise.
	</ul>
	</dd>
	Disadvantages:
	<dd>
	<ul>
	    <li>It requires Android 5.0 or later.
	    <li>Leaves device in a state where it's not very usable for any other purpose.
	    <li>Upgrading to a new version of the player should be done with great care (see box below).
	    <li>Requires technical expertise on a one-time basis for setup.
	</ul>
	</p>
	<p>
	To make Full Kiosk work, you must use the BIND_DEVICE_ADMIN privilege to enable the Aesop Player 
	as the "Device Owner".
	This is a very strong privilege, and
	the folks at Google want us to be sure you can't do that unknowingly, so we're telling
	you about that here, with a some more details below.
	The actual step that does it is either the 'adb' command below,
	or in a slightly different way if you install using 'QR provisioning', also discussed below.
	You can stop using the privilege either by choosing another Kiosk Mode or using Maintenance Mode. 
	If you don't use Full Kiosk mode, the privilege will remain unused and you can safely ignore its existence.
	<p>
	    There is a Settings option on the Kiosk Mode selection screen 
	    to "Drop the privilege required for the Full Kiosk mode", which is only available
	    if Aesop Player is the device owner.
	    This is for expert use, clicking it will require completely redoing the Full Kiosk process
	    to restore the permission.
	</p>
	<p class=boxed>
	    <small>
	    Caution: Normal use and automatic app and system upgrades will be fine with Full Kiosk mode, 
	    but if you will be doing anything unusual with the Aesop Player 
	    (specifically, running any private versions of the player), 
	    be sure to both disable Full Kiosk mode and also click on 
	    "Drop the privilege required for the full kiosk mode" before changing the software. 
	    And at that there is a slight risk that you will be stuck in a halfway state that 
	    can only be fixed by a factory reset.
	    </small>
	</p>
	    Full Kiosk Mode and Application Pinning are 
	    <span class="more_info">
	    <span class="popup">
	    What's really going on here is that when the Lock Screen permission is held, Android treats
	    the operations to lock the device as full kiosk mode requests.
	    Without the permission, it's treated as an application pinning request.
	    </span>
	    closely related 
	    </span>
	    in Android.
	    The consequence of that to Aesop is that only one of the two is possible at any given time.
	    If you have the privilege for Full Kiosk Mode, you cannot use Application Pinning; if you don't,
	    then of course you can't use Full mode.
	    If you are using Full Kiosk Mode, Application Pinning offers no additional benefit.
	</p>
	</dd>
	</dl>
    </li>
</ol>
<p>
If you have not chosen Full Kiosk mode (at this time), you need not read further here.
Continue with <a href="install-dedicated.html#kiosk-mode">Kiosk Mode</a> to install without Full Kiosk.

<h2 id="install-aesop" class="anchor-target">Initial Installation</h2>
If you are here, you presumably have chosen to use Full Kiosk mode.
There are two ways to set that up, depending on which you find more convenient, and whether
your device is new enough.
</p>
<p>
If your device is:
	<ul>
	    <li>Android 7.0 or later.
	    <li>Supports QR Code provisioning. Not all 7.0 and later devices do, depending on the vendor.
		(It won't hurt to try it if you decide you'd like to use it. 
		You can use the 'adb' method if it fails, which it will do almost immediately.)
	    <li>Has a functioning camera. (Apparently it can use either camera, but we've only tested
		with the back ("scene") camera.)
	</ul>
If so, you can consider using 'QR Code Provisioning'.
</p>
<p>
The 'adb' method requires that you remove all accounts from the device, and you have to use
a PC and a cable (which you may already have).
It does NOT require you to do a Factory Reset, but removing all accounts is similar in effect.
<p>
QR provisioning doesn't require any cables but cannot be done without doing a Factory Reset, per Google.
<p>
If you can't use QR code provisioning, or don't want to do the required Factory Reset, then
proceed with the 'adb' method below.
Otherwise follow the steps for QR code provisioning <a href="install-full-kiosk-qr.html">here</a>.
</p>

<h2 id="initial-setup" class="anchor-target">
	    <span class="more_info">
	    <span class="popup">
	    <small>
'adb' stands for "Android Debug Bridge", and is a software tool allowing you to do things that can't be done from an Android Screen.
	    </small>
	    </span>
	    adb
	    </span>
    Install Initial Device Setup</h2>

<h2>Preparation</h2>

<p>
You will need:

<ol>
<li>A tablet or smartphone with Aesop Player already
<a href="install-dedicated.html">installed and configured</a>
for use as a dedicated player, but you can skip the step of setting the Kiosk Mode if you wish.
<li>A PC or Mac computer with Internet access.
<li>A USB cable to connect the Aesop Player device to your computer.
    Your charging cable, if it unplugs from the transformer, is likely to suffice.
</ol>
</p>

<h2>1. Remove all accounts</h2>

<p>
In order for step 4 to succeed, you need to remove all the accounts registered
in the system. 
Google requires this.
If you've recently done a 
<a href="install-dedicated.html#factory-reset">factory reset</a>
or are using a brand new device, 
and have not created any accounts, that's already done and you can skip to step 2.
</p>

<h3>Here's How</h3>

<p>
Go to <strong>Settings</strong> &rarr; <strong>Accounts</strong> and remove all
the accounts.
</p>

<img src="img/remove-accounts.png" class="center-block img-responsive">
<p>
Since at this point you've decided to use the device as a completely dedicated player,
if you have correctly set up your device there should be no personally identifiable
information on it.
</p>

<h2>2. Enable USB debugging</h2>

<p>
You need to enable USB debugging on the device so that it accepts commands from
your computer.


<h3>Here's How</h3>

<ol>
<li>Go to <strong>Settings</strong> &rarr; <strong>About device</strong> and
tap on the <strong>Build number</strong> 7 times.
<li>Go back, enter the newly added <strong>Developer options</strong> and
activate <strong>USB debugging</strong>.
</ol>
</p>

<img src="img/debugging.png" class="center-block img-responsive">

<p>You are a hacker now ;)</p>

<h2>3. Install ADB</h2>

<p>
The <code>adb</code> command is needed on your computer to perform the next
step. The software installed here can be uninstalled later.
</p>

<h3>Here's How</h3>

<ul id="adb-install-tabs" class="nav nav-tabs" data-tabs="adb-install-tab-content">
  <li class="active"><a href="#adb-install-windows" data-toggle="tab">Windows</a></li>
  <li><a href="#adb-install-mac" data-toggle="tab">Mac</a></li>
  <li><a href="#adb-install-ubuntu" data-toggle="tab">Ubuntu</a></li>
</ul>
<div class="tab-content tab-content-framed">
  <div id="adb-install-windows" class="tab-pane active">
  <p>
  Download and install the (unofficial) package from
  <a href="http://forum.xda-developers.com/showthread.php?t=2588979" target="_blank">this post</a>.
  </p>
  <p>
  If you prefer, you can of course install the
  <a href="https://developer.android.com/sdk/index.html#Other" target="_blank">Android SDK Tools</a>
  or even Android Studio but it's a bigger download and more work.
  </p>
  </div>
  
  <div id="adb-install-ubuntu" class="tab-pane">
  <p>
  Install <code>adb</code> with the following command:
  </p>
  <blockquote><code>sudo apt-get install android-tools-adb</code></blockquote>
  </div>

  <div id="adb-install-mac" class="tab-pane">
  <ol>
    <li>Open the <strong>Terminal</strong> app.</li>
    <li>Copy and execute the following command to install <a href="http://brew.sh" target="_blank">Homebrew</a> (on one line):
    <blockquote><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code></blockquote>
    </li>
    <li>Copy and execute the following command to install the <code>adb</code> command:
    <blockquote><code>brew cask install android-platform-tools</code></blockquote>
    </li>
  </ol>
  </div>
</div>
</p>


<h2>4. Make Aesop Player a privileged application</h2>

<p>
In order for Aesop Player to take full control of the UI it needs to be given
special privilege &mdash; it needs to be made a so-called <em>device owner</em>.
This uses the BIND_DEVICE_ADMIN privilege discussed 
<a href="#BDA">above</a>.
This doesn't change the software in any way, it does <strong>not</strong>
void the warranty and it can be easily reversed or temporarily suspended.
</p>

<h3>Here's How</h3>
<ol>
<li>Attach the device with a USB cable to your computer.
<li>On your computer start a terminal (Linux/Mac) or the command prompt
(Windows).
<li>Execute the following command (on one line):
<button onclick="CopyToClipboard()" style="float:right; font-size:12px">Copy to clipboard</button>
<blockquote>
<code id="TheCommand">
adb shell dpm set-device-owner github.io.donnKey.aesopPlayer/com.donnKey.aesopPlayer.AesopPlayerDeviceAdmin
</code>
</blockquote>
</ol>

<!-- Off screen temp for the button -->
<input id="TempSpace" type="text" style="position: absolute; left: -9999px;" > 

<script>
function CopyToClipboard() {
    var origText = document.getElementById("TheCommand");
    var copyText = document.getElementById("TempSpace");
    copyText.value = origText.innerText;
    copyText.select();
    // Copy only will work from an <input> object, thus the tap-dance.
    document.execCommand("Copy");
    //alert("Copied the text: " + copyText.value);
}
</script>

<p>
You should 
<span class="more_info">
<span class="popup">
On recent (Android 9 and above) devices, if you go to Android Settings->Security&location->Device Admin Apps you'll find 
a long and scary-sounding message about what Aesop Player could in theory do to the system. We only use the privilege
for this one purpose.
</span>
see:
</span>
<p class="smaller">
</p>
<pre>
Success: Device owner set to package com.donnKey.aesopPlayer
</pre>
<p>
If Aesop was set to Application Pinning Kiosk Mode, it will be changed to None.
</p>
<p>
In case of errors see
<a role="button" data-toggle="modal"
    data-target="#adb-troubleshooting-modal">troubleshooting</a>.
</p>

<div class="modal fade" id="adb-troubleshooting-modal" tabindex="-1"
    role="dialog" aria-labelledby="adb-troubleshooting-label">
<div class="modal-dialog modal-lg" role="document">
  <div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <h3 class="modal-title" id="adb-troubleshooting-label">
      ADB Troubleshooting Help
    </h3>
  </div>
  <div class="modal-body">
  <dl>
    <dt>Error: <code>device not found</code></dt>
    <dd>
    If you get this error on a Windows computer then it's probably a problem
    with a driver for your device. <a
        href="http://www.makeuseof.com/tag/android-wont-connect-windows-adb-fix-it-three-steps/">Installing a universal ADB driver should help.</a>
    </dd>
    <dt>Error: <code>Trying to set device owner but device is already provisioned.</code></dt>
    <dd>
    This means that there are some accounts still configured on the device.
    Make sure you have performed step "1. Remove all accounts" correctly.
    </dd>
    <dt>Error: <code>More than one device/emulator</code> </dt>
    <dd>
    You have more than one Android device (or emulator) plugged into your computer. 
    Type <code>adb devices</code> to see a list of the devices and emulators.
    Use the -d (for devices) or -s (for emulators) option to adb to select one.
    (<code>adb -s emulator-5678 dpm... </code>)
    </dd>
    <dt>The adb operation did not make Full Kiosk Mode available. </dt>
    <dd>
    We have occasionally and intermittently seen the adb command not fully enable the required permissions.
    Simply repeat the command. 
    You will see an error about the permission already being used, but it should fix the problem. 
    </dd>
  </dl>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
  </div>
  </div>
</div>
</div>

<h2 id="enable-full-kiosk" class="anchor-target"> 5. Enable the full kiosk mode</h2>

<p>
Now you can enable and disable the full kiosk mode at will.

<h3>Here's How</h3>

<ol>
<li>Start Aesop Player.
<li>Enter (Aesop) settings via the "gear" icon.
<li>Click <strong>Prevent from exiting the application (kiosk mode)</strong>.
<li>Click <strong>Preferred Kiosk Mode</strong>.
<li>Click the radio button for <strong>Full Kiosk</strong> (It will be enabled if you have done the above correctly.)
<li>Go back to leave the settings screen.
</ol>

<img class="img-responsive center-block" src="img/full-kiosk-mode.png">

Now it's impossible to leave the player application without going through Settings, which
should have one of the 
<a href="install-dedicated.html#access-to-settings">Settings Interlock</a>
modes set.
<br>
You can change the Kiosk Mode by selecting one of the other available types. 
</p>
<p>
You can give up the permission completely by tapping
<strong>Drop the privilege required for the full kiosk mode</strong>;
you would need to repeat the step using <code>adb</code> above to
restore it.
<p>
Dropping the privilege while in Full Kiosk Mode will cause the Kiosk Mode to be changed to None.
</p>
<p>
If you want to temporarily leave
Full Kiosk mode to do other work on the device, put Aesop into 
<a href="install-dedicated.html#maintenance-mode">Maintenance Mode</a>.
</p>
<h2 id="finish-up-kiosk" class="anchor-target">6. Finish Up The Install </h2>
If you did a Factory Reset or started with a device that did not have Aesop Player installed,
there are a number of settings you should adjust as well:
<ul>
    <li>The instructions for creating a Dedicated Device starting
<a href="install-dedicated.html#after-installation">here</a> describe what should be done for
a dedicated device &mdash; 
follow them up to the point of setting the Kiosk Mode, since you've already done that.
<li>
Also adjust the other Aesop Player settings, such as the sleep timer,
<a href="install-configure.html">here</a>.
</ul>
