---
layout: page
meta_title: "Aesop Player: setting up full kiosk mode"
title: "Make a Dedicated Player - Full Kiosk Mode"
heading: "Making a Dedicated Player"
header-img: img/m-mode.jpg
description: "Full kiosk mode"
extra_css:
 - lightview.min.css
extra_js:
 - lightview.js
 - video.js
---

<h2>The Various Kiosk Modes</h2>

The criteria for selecting a Kiosk Mode are discussed in depth
<a href="install-dedicated.html#kiosk-mode">here</a>.
If you determine you need Full Kiosk Mode, proceed as described below.

<h2>Preparation</h2>

<p>
You will need:

<ol>
<li>A tablet or smartphone with Aesop Player already installed and
<a href="install-configure.html">configured</a>.
<li>A PC or Mac computer with Internet access.
<li>A USB cable to connect the Aesop Player device to your computer.
    Your charging cable, if it unplugs from the transformer, is likely to suffice.
</ol>
</p>

<h2>1. Remove all accounts</h2>

<p>
In order for step 4 to succeed, you need to remove all the accounts registered
in the system. 
If you've recently done a Factory Reset or are using a brand new devoce, 
and have not created any accounts, that's already done and you can skip to step 2.
</p>

<h3>Here's How</h3>

<p>
Go to <strong>Settings</strong> &rarr; <strong>Accounts</strong> and remove all
the accounts.
</p>

<img src="img/remove-accounts.png" class="center-block img-responsive">

<h2>2. Enable USB debugging</h2>

<p>
You need to enable USB debugging on the device so that it accepts commands from
your computer.


<h3>Here's How</h3>

<ol>
<li>Go to <strong>Settings</strong> &rarr; <strong>About device</strong> and
tap on the <strong>Build number</strong> 7 times.
<li>Go back, enter the newly added <strong>Developer options</strong> and
activate <strong>USB debugging</strong>.
</ol>
</p>

<img src="img/debugging.png" class="center-block img-responsive">

<p>You are a hacker now ;)</p>

<h2>3. Install ADB</h2>

<p>
The <code>adb</code> command is needed on your computer to perform the next
step. The software installed here can be uninstalled later.
</p>

<h3>Here's How</h3>

<ul id="adb-install-tabs" class="nav nav-tabs" data-tabs="adb-install-tab-content">
  <li class="active"><a href="#adb-install-windows" data-toggle="tab">Windows</a></li>
  <li><a href="#adb-install-mac" data-toggle="tab">Mac</a></li>
  <li><a href="#adb-install-ubuntu" data-toggle="tab">Ubuntu</a></li>
</ul>
<div class="tab-content tab-content-framed">
  <div id="adb-install-windows" class="tab-pane active">
  <p>
  Download and install the (unofficial) package from
  <a href="http://forum.xda-developers.com/showthread.php?t=2588979" target="_blank">this post</a>.
  </p>
  <p>
  If you prefer, you can of course install the
  <a href="https://developer.android.com/sdk/index.html#Other" target="_blank">Android SDK Tools</a>
  or even Android Studio but it's a bigger download and more work.
  </p>
  </div>
  
  <div id="adb-install-ubuntu" class="tab-pane">
  <p>
  Install <code>adb</code> with the following command:
  </p>
  <blockquote><code>sudo apt-get install android-tools-adb</code></blockquote>
  </div>

  <div id="adb-install-mac" class="tab-pane">
  <ol>
    <li>Open the <strong>Terminal</strong> app.</li>
    <li>Copy and execute the following command to install <a href="http://brew.sh" target="_blank">Homebrew</a> (on one line):
    <blockquote><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code></blockquote>
    </li>
    <li>Copy and execute the following command to install the <code>adb</code> command:
    <blockquote><code>brew cask install android-platform-tools</code></blockquote>
    </li>
  </ol>
  </div>
</div>


<h2>4. Make Aesop Player a privileged application</h2>

<p>
In order for Aesop Player to take full control of the UI it needs to be given
special privilege &mdash; it needs to be made a so-called <em>device owner</em>.
This doesn't change the software in any way, it does <strong>not</strong>
void the warranty and it can be easily reversed or temporarily suspended.
</p>

<h3>Here's How</h3>
<ol>
<li>Attach the device with a USB cable to your computer.
<li>On your computer start a terminal (Linux/Mac) or the command prompt
(Windows).
<li>Execute the following command (on one line):
<button onclick="CopyToClipboard()" style="float:right; font-size:12px">Copy to clipboard</button>
<blockquote>
<code id="TheCommand">
adb shell dpm set-device-owner github.io.donnKey.aesopPlayer/com.donnKey.aesopPlayer.AesopPlayerDeviceAdmin
</code>
</blockquote>
</ol>

<!-- Off screen temp for the button -->
<input id="TempSpace" type="text" style="position: absolute; left: -9999px;" > 

<script>
function CopyToClipboard() {
    var origText = document.getElementById("TheCommand");
    var copyText = document.getElementById("TempSpace");
    copyText.value = origText.innerText;
    copyText.select();
    // Copy only will work from an <input> object, thus the tapdance.
    document.execCommand("Copy");
    //alert("Copied the text: " + copyText.value);
}
</script>

<p>
You should see:
<pre>
Success: Device owner set to package com.donnKey.aesopPlayer
</pre>
<p>
If Aesop was set to Application Pinning Kiosk Mode, it will be changed to None.
</p>
<p class="smaller">
On recent (Android 9 and above) devices, if you go to Android Settings->Security&location->Device Admin Apps you'll find 
a long and scary-sounding message about what Aesop Player could in theory do to the system.
The only actual privilege it uses is the one required to implement Full Kiosk Mode,
the BIND_DEVICE_ADMIN (also known as Device Owner) privilege. 
The folks at Google want us to tell you we are using that privilege.
</p>
<p>
In case of errors see
<a role="button" data-toggle="modal"
    data-target="#adb-troubleshooting-modal">troubleshooting</a>.
</p>

<div class="modal fade" id="adb-troubleshooting-modal" tabindex="-1"
    role="dialog" aria-labelledby="adb-troubleshooting-label">
<div class="modal-dialog modal-lg" role="document">
  <div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <h3 class="modal-title" id="adb-troubleshooting-label">
      ADB Troubleshooting Help
    </h3>
  </div>
  <div class="modal-body">
  <dl>
    <dt>Error: <code>device not found</code></dt>
    <dd>
    If you get this error on a Windows computer then it's probably a problem
    with a driver for your device. <a
        href="http://www.makeuseof.com/tag/android-wont-connect-windows-adb-fix-it-three-steps/">Installing a universal ADB driver should help.</a>
    </dd>
    <dt>Error: <code>Trying to set device owner but device is already provisioned.</code></dt>
    <dd>
    This means that there are some accounts still configured on the device.
    Make sure you have performed step "1. Remove all accounts" correctly.
    </dd>
    <dt>Error: <code>More than one device/emulator</code> </dt>
    <dd>
    You have more than one Android device (or emulator) plugged into your computer. 
    Type <code>adb devices</code> to see a list of the devices and emulators.
    Use the -d (for devices) or -s (for emulators) option to adb to select one.
    (<code>adb -s emulator-5678 dpm... </code>)
    </dd>
    <dt>The adb operation did not make Full Kiosk Mode available. </dt>
    <dd>
    We have occasionally and intermittently seen the adb command not fully enable the required permissions.
    Simply repeat the command. 
    You will see an error about the permission already being used, but it should fix the problem. 
    </dd>
  </dl>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
  </div>
  </div>
</div>
</div>

<h2>5. Enable the full kiosk mode</h2>

<p>
Now you can enable and disable the full kiosk mode at will.

<h3>Here's How</h3>

<ol>
<li>Start Aesop Player.
<li>Enter (Aesop) settings via the "gear" icon.
<li>Click <strong>Prevent from exiting the application (kiosk mode)</strong>.
<li>Click <strong>Preferred Kiosk Mode</strong>.
<li>Click the radio button for <strong>Full Kiosk</strong> (It will be enabled if you have done the above correctly.)
<li>Go back to leave the settings screen.
</ol>

<img class="img-responsive center-block" src="img/full-kiosk-mode.png">

Now it's impossible to leave the player application without going through Settings, which
should have one of the 
<a href="install-dedicated.html#access-to-settings">Settings Interlock</a>
modes set.
<br>
You can change the Kiosk Mode by selecting one of the other available types. 
</p>
<p>
You can give up the permission completely by tapping
<strong>Drop the privilege required for the full kiosk mode</strong>;
you would need to repeat the step using <code>adb</code> above to
restore it.
<p>
Dropping the privilege while in Full Kiosk Mode will cause the Kiosk Mode to be changed to None.
</p>
<p>
If you want to temporarily leave
Full Kiosk mode to do other work on the device, put Aesop into 
<a href="install-dedicated.html#maintenance-mode">Maintenance Mode</a>.
</p>
